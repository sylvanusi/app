{
  "version": 3,
  "sources": ["../../@vaadin/dialog/src/vaadin-dialog-base-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const DialogBaseMixin = (superClass) =>\n  class DialogBaseMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * True if the dialog is visible and available for interaction.\n         * @type {boolean}\n         */\n        opened: {\n          type: Boolean,\n          reflectToAttribute: true,\n          value: false,\n          notify: true,\n          sync: true,\n        },\n\n        /**\n         * Set to true to disable closing dialog on outside click\n         * @attr {boolean} no-close-on-outside-click\n         * @type {boolean}\n         */\n        noCloseOnOutsideClick: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Set to true to disable closing dialog on Escape press\n         * @attr {boolean} no-close-on-esc\n         * @type {boolean}\n         */\n        noCloseOnEsc: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Set to true to remove backdrop and allow click events on background elements.\n         * @type {boolean}\n         */\n        modeless: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Set the distance of the dialog from the top of the viewport.\n         * If a unitless number is provided, pixels are assumed.\n         *\n         * Note that the dialog uses an internal container that has some\n         * additional spacing, which can be overridden by the theme.\n         */\n        top: {\n          type: String,\n        },\n\n        /**\n         * Set the distance of the dialog from the left of the viewport.\n         * If a unitless number is provided, pixels are assumed.\n         *\n         * Note that the dialog uses an internal container that has some\n         * additional spacing, which can be overridden by the theme.\n         */\n        left: {\n          type: String,\n        },\n\n        /**\n         * The `role` attribute value to be set on the dialog. Defaults to \"dialog\".\n         *\n         * @attr {string} overlay-role\n         * @deprecated Use standard `role` attribute on the dialog instead\n         */\n        overlayRole: {\n          type: String,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__positionChanged(top, left)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      const overlay = this.$.overlay;\n\n      overlay.addEventListener('vaadin-overlay-outside-click', this._handleOutsideClick.bind(this));\n      overlay.addEventListener('vaadin-overlay-escape-press', this._handleEscPress.bind(this));\n      overlay.addEventListener('vaadin-overlay-closed', this.__handleOverlayClosed.bind(this));\n\n      this._overlayElement = overlay;\n\n      if (!this.hasAttribute('role')) {\n        this.role = 'dialog';\n      }\n\n      this.setAttribute('tabindex', '0');\n    }\n\n    /** @protected */\n    updated(props) {\n      super.updated(props);\n\n      if (props.has('overlayRole')) {\n        this.role = this.overlayRole || 'dialog';\n      }\n\n      if (props.has('modeless')) {\n        if (!this.modeless) {\n          this.setAttribute('aria-modal', 'true');\n        } else {\n          this.removeAttribute('aria-modal');\n        }\n      }\n    }\n\n    /** @private */\n    __handleOverlayClosed() {\n      this.dispatchEvent(new CustomEvent('closed'));\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      // Restore opened state if overlay was opened when disconnecting\n      if (this.__restoreOpened) {\n        this.opened = true;\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      // Automatically close the overlay when dialog is removed from DOM\n      // Using a timeout to avoid toggling opened state, and dispatching change\n      // events, when just moving the dialog in the DOM\n      setTimeout(() => {\n        if (!this.isConnected) {\n          this.__restoreOpened = this.opened;\n          this.opened = false;\n        }\n      });\n    }\n\n    /** @protected */\n    _onOverlayOpened(e) {\n      if (e.detail.value === false) {\n        this.opened = false;\n      }\n    }\n\n    /**\n     * Close the dialog if `noCloseOnOutsideClick` isn't set to true\n     * @private\n     */\n    _handleOutsideClick(e) {\n      if (this.noCloseOnOutsideClick) {\n        e.preventDefault();\n      }\n    }\n\n    /**\n     * Close the dialog if `noCloseOnEsc` isn't set to true\n     * @private\n     */\n    _handleEscPress(e) {\n      if (this.noCloseOnEsc) {\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n    _bringOverlayToFront() {\n      if (this.modeless) {\n        this._overlayElement.bringToFront();\n      }\n    }\n\n    /** @private */\n    __positionChanged(top, left) {\n      requestAnimationFrame(() => this.$.overlay.setBounds({ top, left }));\n    }\n\n    /** @private */\n    __sizeChanged(width, height) {\n      requestAnimationFrame(() => this.$.overlay.setBounds({ width, height }, false));\n    }\n\n    /**\n     * Fired when the dialog is closed.\n     *\n     * @event closed\n     */\n  };\n"],
  "mappings": "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",
  "names": []
}
