{
  "version": 3,
  "sources": ["../../@vaadin/overlay/src/vaadin-overlay-stack-mixin.js", "../../@vaadin/overlay/src/styles/vaadin-overlay-base-styles.js", "../../@vaadin/a11y-base/src/focus-restoration-controller.js", "../../@vaadin/overlay/src/vaadin-overlay-focus-mixin.js", "../../@vaadin/overlay/src/vaadin-overlay-utils.js", "../../@vaadin/overlay/src/vaadin-overlay-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/** @type {Set<HTMLElement>} */\nconst attachedInstances = new Set();\n\n/**\n * Returns all attached overlays in visual stacking order.\n * @private\n */\nconst getAttachedInstances = () => [...attachedInstances].filter((el) => !el.hasAttribute('closing'));\n\n/**\n * Returns true if all the instances on top of the overlay are nested overlays.\n * @private\n */\nexport const hasOnlyNestedOverlays = (overlay) => {\n  const instances = getAttachedInstances();\n  const next = instances[instances.indexOf(overlay) + 1];\n  if (!next) {\n    return true;\n  }\n\n  if (!overlay._deepContains(next)) {\n    return false;\n  }\n\n  return hasOnlyNestedOverlays(next);\n};\n\n/**\n * Returns true if the overlay is the last one in the opened overlays stack.\n * @param {HTMLElement} overlay\n * @param {function(HTMLElement): boolean} filter\n * @return {boolean}\n * @protected\n */\nexport const isLastOverlay = (overlay, filter = (_overlay) => true) => {\n  const filteredOverlays = getAttachedInstances().filter(filter);\n  return overlay === filteredOverlays.pop();\n};\n\n/**\n * @polymerMixin\n */\nexport const OverlayStackMixin = (superClass) =>\n  class OverlayStackMixin extends superClass {\n    /**\n     * Returns true if this is the last one in the opened overlays stack.\n     *\n     * @return {boolean}\n     * @protected\n     */\n    get _last() {\n      return isLastOverlay(this);\n    }\n\n    /**\n     * Returns true if this is overlay is attached.\n     *\n     * @return {boolean}\n     * @protected\n     */\n    get _isAttached() {\n      return attachedInstances.has(this);\n    }\n\n    /**\n     * Brings the overlay as visually the frontmost one.\n     */\n    bringToFront() {\n      // If the overlay is the last one, or if all other overlays shown above\n      // are nested overlays (e.g. date-picker inside a dialog), do not call\n      // `showPopover()` unnecessarily to avoid scroll position being reset.\n      if (isLastOverlay(this) || hasOnlyNestedOverlays(this)) {\n        return;\n      }\n\n      // Update stacking order of native popover-based overlays\n      if (this.matches(':popover-open')) {\n        this.hidePopover();\n        this.showPopover();\n      }\n\n      // Update order of attached instances\n      this._removeAttachedInstance();\n      this._appendAttachedInstance();\n    }\n\n    /** @protected */\n    _enterModalState() {\n      if (document.body.style.pointerEvents !== 'none') {\n        // Set body pointer-events to 'none' to disable mouse interactions with\n        // other document nodes.\n        this._previousDocumentPointerEvents = document.body.style.pointerEvents;\n        document.body.style.pointerEvents = 'none';\n      }\n\n      // Disable pointer events in other attached overlays\n      getAttachedInstances().forEach((el) => {\n        if (el !== this) {\n          el.$.overlay.style.pointerEvents = 'none';\n        }\n      });\n    }\n\n    /** @protected */\n    _exitModalState() {\n      if (this._previousDocumentPointerEvents !== undefined) {\n        // Restore body pointer-events\n        document.body.style.pointerEvents = this._previousDocumentPointerEvents;\n        delete this._previousDocumentPointerEvents;\n      }\n\n      // Restore pointer events in the previous overlay(s)\n      const instances = getAttachedInstances();\n\n      let el;\n      // Use instances.pop() to ensure the reverse order\n      while ((el = instances.pop())) {\n        if (el === this) {\n          // Skip the current instance\n          continue;\n        }\n        el.$.overlay.style.removeProperty('pointer-events');\n        if (!el.modeless) {\n          // Stop after the last modal\n          break;\n        }\n      }\n    }\n\n    /** @protected */\n    _appendAttachedInstance() {\n      attachedInstances.add(this);\n    }\n\n    /** @protected */\n    _removeAttachedInstance() {\n      if (this._isAttached) {\n        attachedInstances.delete(this);\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport '@vaadin/component-base/src/styles/style-props.js';\nimport { css } from 'lit';\n\nexport const overlayStyles = css`\n  :host {\n    z-index: 200;\n    position: fixed;\n\n    /* Despite of what the names say, <vaadin-overlay> is just a container\n          for position/sizing/alignment. The actual overlay is the overlay part. */\n\n    /* Default position constraints. Themes can\n          override this to adjust the gap between the overlay and the viewport. */\n    inset: max(env(safe-area-inset-top, 0px), var(--vaadin-overlay-viewport-inset, 8px))\n      max(env(safe-area-inset-right, 0px), var(--vaadin-overlay-viewport-inset, 8px))\n      max(env(safe-area-inset-bottom, 0px), var(--vaadin-overlay-viewport-bottom))\n      max(env(safe-area-inset-left, 0px), var(--vaadin-overlay-viewport-inset, 8px));\n\n    /* Override native [popover] user agent styles */\n    width: auto;\n    height: auto;\n    border: none;\n    padding: 0;\n    background-color: transparent;\n    overflow: visible;\n\n    /* Use flexbox alignment for the overlay part. */\n    display: flex;\n    flex-direction: column; /* makes dropdowns sizing easier */\n    /* Align to center by default. */\n    align-items: center;\n    justify-content: center;\n\n    /* Allow centering when max-width/max-height applies. */\n    margin: auto;\n\n    /* The host is not clickable, only the overlay part is. */\n    pointer-events: none;\n\n    /* Remove tap highlight on touch devices. */\n    -webkit-tap-highlight-color: transparent;\n\n    /* CSS API for host */\n    --vaadin-overlay-viewport-bottom: 8px;\n  }\n\n  :host([hidden]),\n  :host(:not([opened]):not([closing])),\n  :host(:not([opened]):not([closing])) [part='overlay'] {\n    display: none !important;\n  }\n\n  [part='overlay'] {\n    background: var(--vaadin-overlay-background, var(--vaadin-background-color));\n    border: var(--vaadin-overlay-border-width, 1px) solid\n      var(--vaadin-overlay-border-color, var(--vaadin-border-color-secondary));\n    border-radius: var(--vaadin-overlay-border-radius, var(--vaadin-radius-m));\n    box-shadow: var(--vaadin-overlay-shadow, 0 8px 24px -4px rgba(0, 0, 0, 0.3));\n    box-sizing: border-box;\n    max-width: 100%;\n    overflow: auto;\n    overscroll-behavior: contain;\n    pointer-events: auto;\n    -webkit-tap-highlight-color: initial;\n\n    /* CSS reset for font styles */\n    color: initial;\n    font: initial;\n    letter-spacing: initial;\n    text-align: initial;\n    text-decoration: initial;\n    text-indent: initial;\n    text-transform: initial;\n    user-select: text;\n    white-space: initial;\n    word-spacing: initial;\n\n    /* Inherit font-family */\n    font-family: inherit;\n  }\n\n  [part='backdrop'] {\n    background: var(--vaadin-overlay-backdrop-background, rgba(0, 0, 0, 0.2));\n    content: '';\n    inset: 0;\n    pointer-events: auto;\n    position: fixed;\n    z-index: -1;\n  }\n\n  [part='overlay']:focus-visible {\n    outline: var(--vaadin-focus-ring-width) solid var(--vaadin-focus-ring-color);\n  }\n\n  @media (forced-colors: active) {\n    [part='overlay'] {\n      border: 3px solid !important;\n    }\n  }\n`;\n", "/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { getDeepActiveElement } from './focus-utils.js';\n\n/**\n * A controller for saving a focused node and restoring focus to it later.\n */\nexport class FocusRestorationController {\n  /**\n   * Saves the given node as a target for restoring focus to\n   * when `restoreFocus()` is called. If no node is provided,\n   * the currently focused node in the DOM is saved as a target.\n   *\n   * @param {Node | null | undefined} focusNode\n   */\n  saveFocus(focusNode) {\n    this.focusNode = focusNode || getDeepActiveElement();\n  }\n\n  /**\n   * Restores focus to the target node that was saved previously with `saveFocus()`.\n   */\n  restoreFocus(options) {\n    const focusNode = this.focusNode;\n    if (!focusNode) {\n      return;\n    }\n\n    const focusOptions = {\n      preventScroll: options ? options.preventScroll : false,\n      focusVisible: options ? options.focusVisible : false,\n    };\n\n    if (getDeepActiveElement() === document.body) {\n      // In Firefox and Safari, focusing the node synchronously\n      // doesn't work as expected when the overlay is closing on outside click.\n      // These browsers force focus to move to the body element and retain it\n      // there until the next event loop iteration.\n      setTimeout(() => focusNode.focus(focusOptions));\n    } else {\n      focusNode.focus(focusOptions);\n    }\n\n    this.focusNode = null;\n  }\n}\n", "/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { FocusRestorationController } from '@vaadin/a11y-base/src/focus-restoration-controller.js';\nimport { FocusTrapController } from '@vaadin/a11y-base/src/focus-trap-controller.js';\nimport { getDeepActiveElement, isKeyboardActive } from '@vaadin/a11y-base/src/focus-utils.js';\n\n/**\n * @polymerMixin\n */\nexport const OverlayFocusMixin = (superClass) =>\n  class OverlayFocusMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When true, opening the overlay moves focus to the first focusable child,\n         * or to the overlay part with tabindex if there are no focusable children.\n         * @attr {boolean} focus-trap\n         */\n        focusTrap: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Set to true to enable restoring of focus when overlay is closed.\n         * @attr {boolean} restore-focus-on-close\n         */\n        restoreFocusOnClose: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Set to specify the element which should be focused on overlay close,\n         * if `restoreFocusOnClose` is set to true.\n         * @type {HTMLElement}\n         */\n        restoreFocusNode: {\n          type: HTMLElement,\n        },\n      };\n    }\n\n    constructor() {\n      super();\n\n      this.__focusTrapController = new FocusTrapController(this);\n      this.__focusRestorationController = new FocusRestorationController();\n    }\n\n    /**\n     * Override to specify another element used as a content root,\n     * e.g. slotted into the overlay, rather than overlay itself.\n     * @protected\n     */\n    get _contentRoot() {\n      return this;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.addController(this.__focusTrapController);\n      this.addController(this.__focusRestorationController);\n    }\n\n    /**\n     * Override to specify another element used as a focus trap root,\n     * e.g. the overlay's owner element, rather than overlay part.\n     * @protected\n     */\n    get _focusTrapRoot() {\n      return this.$.overlay;\n    }\n\n    /**\n     * Release focus and restore focus after the overlay is closed.\n     *\n     * @protected\n     */\n    _resetFocus() {\n      if (this.focusTrap) {\n        this.__focusTrapController.releaseFocus();\n      }\n\n      if (this.restoreFocusOnClose && this._shouldRestoreFocus()) {\n        const focusVisible = isKeyboardActive();\n        const preventScroll = !focusVisible;\n        this.__focusRestorationController.restoreFocus({ preventScroll, focusVisible });\n      }\n    }\n\n    /**\n     * Save the previously focused node when the overlay starts to open.\n     *\n     * @protected\n     */\n    _saveFocus() {\n      if (this.restoreFocusOnClose) {\n        this.__focusRestorationController.saveFocus(this.restoreFocusNode);\n      }\n    }\n\n    /**\n     * Trap focus within the overlay after opening has completed.\n     *\n     * @protected\n     */\n    _trapFocus() {\n      if (this.focusTrap) {\n        this.__focusTrapController.trapFocus(this._focusTrapRoot);\n      }\n    }\n\n    /**\n     * Returns true if focus is still inside the overlay or on the body element,\n     * otherwise false.\n     *\n     * Focus shouldn't be restored if it's been moved elsewhere by another\n     * component or as a result of a user interaction e.g. the user clicked\n     * on a button outside the overlay while the overlay was open.\n     *\n     * @protected\n     * @return {boolean}\n     */\n    _shouldRestoreFocus() {\n      const activeElement = getDeepActiveElement();\n      return activeElement === document.body || this._deepContains(activeElement);\n    }\n\n    /**\n     * Returns true if the overlay contains the given node,\n     * including those within shadow DOM trees.\n     *\n     * @param {Node} node\n     * @return {boolean}\n     * @protected\n     */\n    _deepContains(node) {\n      if (this._contentRoot.contains(node)) {\n        return true;\n      }\n      let n = node;\n      const doc = node.ownerDocument;\n      // Walk from node to content root or `document`\n      while (n && n !== doc && n !== this._contentRoot) {\n        n = n.parentNode || n.host;\n      }\n      return n === this._contentRoot;\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2024 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Observe moving an element around on a page.\n *\n * Based on the idea from https://samthor.au/2021/observing-dom/ as implemented in Floating UI\n * https://github.com/floating-ui/floating-ui/blob/58ed169/packages/dom/src/autoUpdate.ts#L45\n *\n * @param {HTMLElement} element\n * @param {Function} callback\n * @return {Function}\n */\nexport function observeMove(element, callback) {\n  let io = null;\n  let timeout;\n\n  const root = document.documentElement;\n\n  function cleanup() {\n    timeout && clearTimeout(timeout);\n    io && io.disconnect();\n    io = null;\n  }\n\n  function refresh(skip = false, threshold = 1) {\n    cleanup();\n\n    const { left, top, width, height } = element.getBoundingClientRect();\n\n    if (!skip) {\n      callback();\n    }\n\n    if (!width || !height) {\n      return;\n    }\n\n    const insetTop = Math.floor(top);\n    const insetRight = Math.floor(root.clientWidth - (left + width));\n    const insetBottom = Math.floor(root.clientHeight - (top + height));\n    const insetLeft = Math.floor(left);\n\n    const rootMargin = `${-insetTop}px ${-insetRight}px ${-insetBottom}px ${-insetLeft}px`;\n\n    const options = {\n      rootMargin,\n      threshold: Math.max(0, Math.min(1, threshold)) || 1,\n    };\n\n    let isFirstUpdate = true;\n\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeout = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n\n      isFirstUpdate = false;\n    }\n\n    io = new IntersectionObserver(handleObserve, options);\n\n    io.observe(element);\n  }\n\n  refresh(true);\n\n  return cleanup;\n}\n\n/**\n * Toggle the state attribute on the overlay element and also its owner element. This allows targeting state attributes\n * in the light DOM in case the overlay is in the shadow DOM of its owner.\n * @param {HTMLElement} overlay The overlay element on which to toggle the attribute.\n * @param {string} name The name of the attribute to toggle.\n * @param {string|boolean} value The value of the attribute. If a string is provided, it will be set as the attribute\n * value. Otherwise, the attribute will be added or removed depending on whether `value` is truthy or falsy.\n */\nexport function setOverlayStateAttribute(overlay, name, value) {\n  const elements = [overlay];\n  if (overlay.owner) {\n    elements.push(overlay.owner);\n  }\n\n  if (typeof value === 'string') {\n    elements.forEach((element) => {\n      element.setAttribute(name, value);\n    });\n  } else if (value) {\n    elements.forEach((element) => {\n      element.setAttribute(name, '');\n    });\n  } else {\n    elements.forEach((element) => {\n      element.removeAttribute(name);\n    });\n  }\n}\n", "/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isIOS } from '@vaadin/component-base/src/browser-utils.js';\nimport { OverlayFocusMixin } from './vaadin-overlay-focus-mixin.js';\nimport { OverlayStackMixin } from './vaadin-overlay-stack-mixin.js';\nimport { setOverlayStateAttribute } from './vaadin-overlay-utils.js';\n\n/**\n * @polymerMixin\n * @mixes OverlayFocusMixin\n * @mixes OverlayStackMixin\n */\nexport const OverlayMixin = (superClass) =>\n  class OverlayMixin extends OverlayFocusMixin(OverlayStackMixin(superClass)) {\n    static get properties() {\n      return {\n        /**\n         * When true, the overlay is visible and attached to body.\n         */\n        opened: {\n          type: Boolean,\n          notify: true,\n          observer: '_openedChanged',\n          reflectToAttribute: true,\n          sync: true,\n        },\n\n        /**\n         * Owner element passed with renderer function\n         * @type {HTMLElement}\n         */\n        owner: {\n          type: Object,\n          sync: true,\n        },\n\n        /**\n         * Object with properties that is passed to `renderer` function\n         */\n        model: {\n          type: Object,\n          sync: true,\n        },\n\n        /**\n         * Custom function for rendering the content of the overlay.\n         * Receives three arguments:\n         *\n         * - `root` The root container DOM element. Append your content to it.\n         * - `owner` The host element of the renderer function.\n         * - `model` The object with the properties related with rendering.\n         * @type {OverlayRenderer | null | undefined}\n         */\n        renderer: {\n          type: Object,\n          sync: true,\n        },\n\n        /**\n         * When true the overlay won't disable the main content, showing\n         * it doesn't change the functionality of the user interface.\n         * @type {boolean}\n         */\n        modeless: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n          observer: '_modelessChanged',\n          sync: true,\n        },\n\n        /**\n         * When set to true, the overlay is hidden. This also closes the overlay\n         * immediately in case there is a closing animation in progress.\n         * @type {boolean}\n         */\n        hidden: {\n          type: Boolean,\n          reflectToAttribute: true,\n          observer: '_hiddenChanged',\n          sync: true,\n        },\n\n        /**\n         * When true the overlay has backdrop on top of content when opened.\n         * @type {boolean}\n         */\n        withBackdrop: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n          observer: '_withBackdropChanged',\n          sync: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_rendererOrDataChanged(renderer, owner, model, opened)'];\n    }\n\n    /**\n     * Override to specify another element used as a renderer root,\n     * e.g. slotted into the overlay, rather than overlay itself.\n     * @protected\n     */\n    get _rendererRoot() {\n      return this;\n    }\n\n    constructor() {\n      super();\n\n      this._boundMouseDownListener = this._mouseDownListener.bind(this);\n      this._boundMouseUpListener = this._mouseUpListener.bind(this);\n      this._boundOutsideClickListener = this._outsideClickListener.bind(this);\n      this._boundKeydownListener = this._keydownListener.bind(this);\n\n      /* c8 ignore next 3 */\n      if (isIOS) {\n        this._boundIosResizeListener = () => this._detectIosNavbar();\n      }\n    }\n\n    /** @protected */\n    firstUpdated() {\n      super.firstUpdated();\n\n      // Set popover in firstUpdated before opened observers are called\n      this.popover = 'manual';\n\n      // Need to add dummy click listeners to this and the backdrop or else\n      // the document click event listener (_outsideClickListener) may never\n      // get invoked on iOS Safari (reproducible in <vaadin-dialog>\n      // and <vaadin-context-menu>).\n      this.addEventListener('click', () => {});\n      if (this.$.backdrop) {\n        this.$.backdrop.addEventListener('click', () => {});\n      }\n\n      this.addEventListener('mouseup', () => {\n        // In Chrome, focus moves to body on overlay content mousedown\n        // See https://github.com/vaadin/flow-components/issues/5507\n        if (document.activeElement === document.body && this.$.overlay.getAttribute('tabindex') === '0') {\n          this.$.overlay.focus();\n        }\n      });\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      /* c8 ignore next 3 */\n      if (this._boundIosResizeListener) {\n        this._detectIosNavbar();\n        window.addEventListener('resize', this._boundIosResizeListener);\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      if (this.__scheduledOpen) {\n        cancelAnimationFrame(this.__scheduledOpen);\n        this.__scheduledOpen = null;\n      }\n\n      /* c8 ignore next 3 */\n      if (this._boundIosResizeListener) {\n        window.removeEventListener('resize', this._boundIosResizeListener);\n      }\n    }\n\n    /**\n     * Requests an update for the content of the overlay.\n     * While performing the update, it invokes the renderer passed in the `renderer` property.\n     *\n     * It is not guaranteed that the update happens immediately (synchronously) after it is requested.\n     */\n    requestContentUpdate() {\n      if (this.renderer) {\n        this.renderer.call(this.owner, this._rendererRoot, this.owner, this.model);\n      }\n    }\n\n    /**\n     * @param {Event=} sourceEvent\n     */\n    close(sourceEvent) {\n      // Dispatch the event on the overlay. Not using composed, as propagating the event through shadow roots could have\n      // side effects when nesting overlays\n      const event = new CustomEvent('vaadin-overlay-close', {\n        bubbles: true,\n        cancelable: true,\n        detail: { overlay: this, sourceEvent },\n      });\n      this.dispatchEvent(event);\n      // To allow listening for the event globally, also dispatch it on the document body\n      document.body.dispatchEvent(event);\n      if (!event.defaultPrevented) {\n        this.opened = false;\n      }\n    }\n\n    /**\n     * Updates the coordinates of the overlay.\n     * @param {!OverlayBoundsParam} bounds\n     * @param {boolean} absolute\n     */\n    setBounds(bounds, absolute = true) {\n      const overlay = this.$.overlay;\n      const parsedBounds = { ...bounds };\n\n      if (absolute && overlay.style.position !== 'absolute') {\n        overlay.style.position = 'absolute';\n      }\n\n      Object.keys(parsedBounds).forEach((arg) => {\n        // Allow setting width or height to `null`\n        if (parsedBounds[arg] !== null && !isNaN(parsedBounds[arg])) {\n          parsedBounds[arg] = `${parsedBounds[arg]}px`;\n        }\n      });\n\n      Object.assign(overlay.style, parsedBounds);\n    }\n\n    /** @private */\n    _detectIosNavbar() {\n      /* c8 ignore next 15 */\n      if (!this.opened) {\n        return;\n      }\n\n      const innerHeight = window.innerHeight;\n      const innerWidth = window.innerWidth;\n\n      const landscape = innerWidth > innerHeight;\n\n      const clientHeight = document.documentElement.clientHeight;\n\n      if (landscape && clientHeight > innerHeight) {\n        this.style.setProperty('--vaadin-overlay-viewport-bottom', `${clientHeight - innerHeight}px`);\n      } else {\n        this.style.setProperty('--vaadin-overlay-viewport-bottom', '0');\n      }\n    }\n\n    /**\n     * Whether to add global listeners for closing on outside click.\n     * By default, listeners are not added for a modeless overlay.\n     *\n     * @return {boolean}\n     * @protected\n     */\n    _shouldAddGlobalListeners() {\n      return !this.modeless;\n    }\n\n    /** @private */\n    _addGlobalListeners() {\n      if (this.__hasGlobalListeners) {\n        return;\n      }\n\n      this.__hasGlobalListeners = true;\n\n      document.addEventListener('mousedown', this._boundMouseDownListener);\n      document.addEventListener('mouseup', this._boundMouseUpListener);\n      // Firefox leaks click to document on contextmenu even if prevented\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=990614\n      document.documentElement.addEventListener('click', this._boundOutsideClickListener, true);\n    }\n\n    /** @private */\n    _removeGlobalListeners() {\n      if (!this.__hasGlobalListeners) {\n        return;\n      }\n\n      this.__hasGlobalListeners = false;\n\n      document.removeEventListener('mousedown', this._boundMouseDownListener);\n      document.removeEventListener('mouseup', this._boundMouseUpListener);\n      document.documentElement.removeEventListener('click', this._boundOutsideClickListener, true);\n    }\n\n    /** @private */\n    _rendererOrDataChanged(renderer, owner, model, opened) {\n      const ownerOrModelChanged = this._oldOwner !== owner || this._oldModel !== model;\n      this._oldModel = model;\n      this._oldOwner = owner;\n\n      const rendererChanged = this._oldRenderer !== renderer;\n      const hasOldRenderer = this._oldRenderer !== undefined;\n      this._oldRenderer = renderer;\n\n      const openedChanged = this._oldOpened !== opened;\n      this._oldOpened = opened;\n\n      if (rendererChanged && hasOldRenderer) {\n        this._rendererRoot.innerHTML = '';\n        // Whenever a Lit-based renderer is used, it assigns a Lit part to the node it was rendered into.\n        // When clearing the rendered content, this part needs to be manually disposed of.\n        // Otherwise, using a Lit-based renderer on the same node will throw an exception or render nothing afterward.\n        delete this._rendererRoot._$litPart$;\n      }\n\n      if (opened && renderer && (rendererChanged || openedChanged || ownerOrModelChanged)) {\n        this.requestContentUpdate();\n      }\n    }\n\n    /** @private */\n    _modelessChanged(modeless) {\n      if (this.opened) {\n        // Add / remove listeners if modeless is changed while opened\n        if (this._shouldAddGlobalListeners()) {\n          this._addGlobalListeners();\n        } else {\n          this._removeGlobalListeners();\n        }\n      }\n\n      if (!modeless) {\n        if (this.opened) {\n          this._enterModalState();\n        }\n      } else {\n        this._exitModalState();\n      }\n      setOverlayStateAttribute(this, 'modeless', modeless);\n    }\n\n    /** @private */\n    _withBackdropChanged(withBackdrop) {\n      setOverlayStateAttribute(this, 'with-backdrop', withBackdrop);\n    }\n\n    /** @private */\n    _openedChanged(opened, wasOpened) {\n      if (opened) {\n        // Prevent possible errors on setting `opened` to `true` while disconnected\n        if (!this.isConnected) {\n          this.opened = false;\n          return;\n        }\n\n        this._saveFocus();\n\n        this._animatedOpening();\n\n        this.__scheduledOpen = requestAnimationFrame(() => {\n          setTimeout(() => {\n            this._trapFocus();\n\n            // Dispatch the event on the overlay. Not using composed, as propagating the event through shadow roots\n            // could have side effects when nesting overlays\n            const event = new CustomEvent('vaadin-overlay-open', { detail: { overlay: this }, bubbles: true });\n            this.dispatchEvent(event);\n            // To allow listening for the event globally, also dispatch it on the document body\n            document.body.dispatchEvent(event);\n          });\n        });\n\n        document.addEventListener('keydown', this._boundKeydownListener);\n\n        if (this._shouldAddGlobalListeners()) {\n          this._addGlobalListeners();\n        }\n      } else if (wasOpened) {\n        if (this.__scheduledOpen) {\n          cancelAnimationFrame(this.__scheduledOpen);\n          this.__scheduledOpen = null;\n        }\n\n        this._resetFocus();\n\n        this._animatedClosing();\n\n        document.removeEventListener('keydown', this._boundKeydownListener);\n\n        if (this._shouldAddGlobalListeners()) {\n          this._removeGlobalListeners();\n        }\n      }\n    }\n\n    /** @private */\n    _hiddenChanged(hidden) {\n      if (hidden && this.hasAttribute('closing')) {\n        this._flushAnimation('closing');\n      }\n    }\n\n    /**\n     * @return {boolean}\n     * @private\n     */\n    _shouldAnimate() {\n      const style = getComputedStyle(this);\n      const name = style.getPropertyValue('animation-name');\n      const hidden = style.getPropertyValue('display') === 'none';\n      return !hidden && name && name !== 'none';\n    }\n\n    /**\n     * @param {string} type\n     * @param {Function} callback\n     * @private\n     */\n    _enqueueAnimation(type, callback) {\n      const handler = `__${type}Handler`;\n      const listener = (event) => {\n        if (event && event.target !== this) {\n          return;\n        }\n        callback();\n        this.removeEventListener('animationend', listener);\n        delete this[handler];\n      };\n      this[handler] = listener;\n      this.addEventListener('animationend', listener);\n    }\n\n    /**\n     * @param {string} type\n     * @protected\n     */\n    _flushAnimation(type) {\n      const handler = `__${type}Handler`;\n      if (typeof this[handler] === 'function') {\n        this[handler]();\n      }\n    }\n\n    /** @private */\n    _animatedOpening() {\n      if (this._isAttached && this.hasAttribute('closing')) {\n        this._flushAnimation('closing');\n      }\n      this._attachOverlay();\n      this._appendAttachedInstance();\n      this.bringToFront();\n      if (!this.modeless) {\n        this._enterModalState();\n      }\n      setOverlayStateAttribute(this, 'opening', true);\n\n      if (this._shouldAnimate()) {\n        this._enqueueAnimation('opening', () => {\n          this._finishOpening();\n        });\n      } else {\n        this._finishOpening();\n      }\n    }\n\n    /** @private */\n    _attachOverlay() {\n      this.showPopover();\n    }\n\n    /** @private */\n    _finishOpening() {\n      setOverlayStateAttribute(this, 'opening', false);\n    }\n\n    /** @private */\n    _finishClosing() {\n      this._detachOverlay();\n      this._removeAttachedInstance();\n      this.$.overlay.style.removeProperty('pointer-events');\n      setOverlayStateAttribute(this, 'closing', false);\n      this.dispatchEvent(new CustomEvent('vaadin-overlay-closed'));\n    }\n\n    /** @private */\n    _animatedClosing() {\n      if (this.hasAttribute('opening')) {\n        this._flushAnimation('opening');\n      }\n      if (this._isAttached) {\n        this._exitModalState();\n        setOverlayStateAttribute(this, 'closing', true);\n        this.dispatchEvent(new CustomEvent('vaadin-overlay-closing'));\n\n        if (this._shouldAnimate()) {\n          this._enqueueAnimation('closing', () => {\n            this._finishClosing();\n          });\n        } else {\n          this._finishClosing();\n        }\n      }\n    }\n\n    /** @private */\n    _detachOverlay() {\n      this.hidePopover();\n    }\n\n    /** @private */\n    _mouseDownListener(event) {\n      this._mouseDownInside = event.composedPath().indexOf(this.$.overlay) >= 0;\n    }\n\n    /** @private */\n    _mouseUpListener(event) {\n      this._mouseUpInside = event.composedPath().indexOf(this.$.overlay) >= 0;\n    }\n\n    /**\n     * Whether to close the overlay on outside click or not.\n     * Override this method to customize the closing logic.\n     *\n     * @param {Event} _event\n     * @return {boolean}\n     * @protected\n     */\n    _shouldCloseOnOutsideClick(_event) {\n      return this._last;\n    }\n\n    /**\n     * Outside click listener used in capture phase to close the overlay before\n     * propagating the event to the listener on the element that triggered it.\n     * Otherwise, calling `open()` would result in closing and re-opening.\n     *\n     * @private\n     */\n    _outsideClickListener(event) {\n      if (event.composedPath().includes(this.$.overlay) || this._mouseDownInside || this._mouseUpInside) {\n        this._mouseDownInside = false;\n        this._mouseUpInside = false;\n        return;\n      }\n\n      if (!this._shouldCloseOnOutsideClick(event)) {\n        return;\n      }\n\n      const evt = new CustomEvent('vaadin-overlay-outside-click', {\n        cancelable: true,\n        detail: { sourceEvent: event },\n      });\n      this.dispatchEvent(evt);\n\n      if (this.opened && !evt.defaultPrevented) {\n        this.close(event);\n      }\n    }\n\n    /**\n     * Listener used to close whe overlay on Escape press, if it is the last one.\n     * @private\n     */\n    _keydownListener(event) {\n      if (!this._last || event.defaultPrevented) {\n        return;\n      }\n\n      // Only close modeless overlay on Esc press when it contains focus\n      if (!this._shouldAddGlobalListeners() && !event.composedPath().includes(this._focusTrapRoot)) {\n        return;\n      }\n\n      if (event.key === 'Escape') {\n        const evt = new CustomEvent('vaadin-overlay-escape-press', {\n          cancelable: true,\n          detail: { sourceEvent: event },\n        });\n        this.dispatchEvent(evt);\n\n        if (this.opened && !evt.defaultPrevented) {\n          this.close(event);\n        }\n      }\n    }\n  };\n"],
  "mappings": "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",
  "names": []
}
