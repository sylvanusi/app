{
  "version": 3,
  "sources": ["../../@vaadin/crud/src/styles/vaadin-crud-edit-base-styles.js", "../../@vaadin/crud/src/vaadin-crud-edit.js", "../../@vaadin/crud/src/vaadin-crud-helpers.js", "../../@vaadin/crud/src/vaadin-crud-edit-column.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2000 - 2025 Vaadin Ltd.\n *\n * This program is available under Vaadin Commercial License and Service Terms.\n *\n *\n * See https://vaadin.com/commercial-license-and-service-terms for the full\n * license.\n */\nimport '@vaadin/component-base/src/styles/style-props.js';\nimport { css } from 'lit';\n\nexport const crudEditStyles = css`\n  [part='icon'] {\n    background: currentColor;\n    display: block;\n    height: var(--vaadin-icon-size, 1lh);\n    mask: var(--_vaadin-icon-pen) 50% / var(--vaadin-icon-visual-size, 100%) no-repeat;\n    width: var(--vaadin-icon-size, 1lh);\n  }\n\n  @media (forced-colors: active) {\n    [part='icon'] {\n      background: CanvasText;\n    }\n  }\n`;\n", "/**\n * @license\n * Copyright (c) 2000 - 2025 Vaadin Ltd.\n *\n * This program is available under Vaadin Commercial License and Service Terms.\n *\n *\n * See https://vaadin.com/commercial-license-and-service-terms for the full\n * license.\n */\nimport { html } from 'lit';\nimport { Button } from '@vaadin/button/src/vaadin-button.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { crudEditStyles } from './styles/vaadin-crud-edit-base-styles.js';\n\n/**\n * `<vaadin-crud-edit>` is a helper element for `<vaadin-grid-column>` that provides\n * an easily themable button that fires an `edit` event with the row item as detail\n * when clicked.\n *\n * Typical usage is in a `<vaadin-grid-column>` of a custom `<vaadin-grid>` inside\n * a `<vaadin-crud>` to enable editing.\n *\n * @customElement\n * @extends Button\n */\nclass CrudEdit extends Button {\n  static get is() {\n    return 'vaadin-crud-edit';\n  }\n\n  static get styles() {\n    return [super.styles, crudEditStyles];\n  }\n\n  /** @protected */\n  render() {\n    return html`\n      <div part=\"icon\"></div>\n      <slot name=\"tooltip\"></slot>\n    `;\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n    this.addEventListener('click', this.__onClick);\n    this.setAttribute('aria-label', 'Edit');\n  }\n\n  /** @private */\n  __onClick(e) {\n    const tr = e.target.parentElement.assignedSlot.parentElement.parentElement;\n    tr.dispatchEvent(\n      new CustomEvent('edit', { detail: { item: tr._item, index: tr.index }, bubbles: true, composed: true }),\n    );\n  }\n\n  /**\n   * Fired when user on the icon.\n   *\n   * @event edit\n   * @param {Object} detail.item the item to edit\n   * @param {Object} detail.index the index of the item in the data set\n   */\n}\n\ndefineCustomElement(CrudEdit);\n\nexport { CrudEdit };\n", "/**\n * @license\n * Copyright (c) 2000 - 2025 Vaadin Ltd.\n *\n * This program is available under Vaadin Commercial License and Service Terms.\n *\n *\n * See https://vaadin.com/commercial-license-and-service-terms for the full\n * license.\n */\nimport { get, set } from '@vaadin/component-base/src/path-utils.js';\n\n/**\n * Convenience utility for capitalizing a string, with\n * replacing non-alphanumeric characters with spaces.\n *\n * @param {string} path\n * @return {string}\n */\nexport function capitalize(path) {\n  return path\n    .toLowerCase()\n    .replace(/([^\\w]+)/gu, ' ')\n    .trim()\n    .replace(/^./u, (c) => c.toUpperCase());\n}\n\n/**\n * Convenience utility for reading a value from a path.\n *\n * @param {string} path\n * @param {Object} obj\n * @return {*}\n */\nexport function getProperty(path, obj) {\n  return get(path, obj);\n}\n\n/**\n * Convenience utility for setting a value to a path.\n *\n * Note, if any part in the path is undefined, this\n * function initializes it with an empty object.\n *\n * @param {string} path\n * @param {*} value\n * @param {Object} obj\n */\nexport function setProperty(path, value, obj) {\n  if (obj && path) {\n    path\n      .split('.')\n      .slice(0, -1)\n      .reduce((o, p) => {\n        // Create an object\n        if (!o[p]) {\n          o[p] = {};\n        }\n        return o[p];\n      }, obj);\n\n    set(path, value, obj);\n  }\n}\n\nexport function isValidEditorPosition(editorPosition) {\n  return ['bottom', 'aside'].includes(editorPosition);\n}\n\nexport function editColumnDefaultRenderer(root, column) {\n  let edit = root.firstElementChild;\n  if (!edit) {\n    edit = document.createElement('vaadin-crud-edit');\n    if (column.hasAttribute('theme')) {\n      edit.setAttribute('theme', column.getAttribute('theme'));\n    }\n    root.appendChild(edit);\n  }\n\n  if (column.ariaLabel) {\n    edit.setAttribute('aria-label', column.ariaLabel);\n  } else {\n    edit.removeAttribute('aria-label');\n  }\n}\n\nexport function createField(crudForm, parent, path) {\n  const field = document.createElement('vaadin-text-field');\n  field.label = capitalize(path);\n  field.path = path;\n  field.required = true;\n  parent.appendChild(field);\n  crudForm._fields.push(field);\n  return field;\n}\n\nexport function createFields(crudForm, parent, object, path) {\n  Object.keys(object).forEach((prop) => {\n    if (!crudForm.include && crudForm.exclude && crudForm.exclude.test(prop)) {\n      return;\n    }\n    const newPath = (path ? `${path}.` : '') + prop;\n    if (object[prop] && typeof object[prop] === 'object') {\n      createFields(crudForm, parent, object[prop], newPath);\n    } else {\n      createField(crudForm, parent, newPath);\n    }\n  });\n  if (!crudForm._fields.length) {\n    crudForm._fields = undefined;\n  }\n}\n", "/**\n * @license\n * Copyright (c) 2000 - 2025 Vaadin Ltd.\n *\n * This program is available under Vaadin Commercial License and Service Terms.\n *\n *\n * See https://vaadin.com/commercial-license-and-service-terms for the full\n * license.\n */\nimport './vaadin-crud-edit.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { GridColumn } from '@vaadin/grid/src/vaadin-grid-column.js';\nimport { editColumnDefaultRenderer } from './vaadin-crud-helpers.js';\n\n/**\n * `<vaadin-crud-edit-column>` is a helper element for the `<vaadin-grid>`\n * that provides a clickable and themable edit icon.\n *\n * Typical usage is in a custom `<vaadin-grid>` inside a `<vaadin-crud>`.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *  <vaadin-crud-edit-column></vaadin-crud-edit-column>\n *\n *  <vaadin-grid-column>\n *    ...\n * ```\n *\n * @customElement\n * @extends GridColumn\n */\nclass CrudEditColumn extends GridColumn {\n  static get is() {\n    return 'vaadin-crud-edit-column';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Automatically sets the width of the column based on the column contents when this is set to `true`.\n       * @private\n       */\n      autoWidth: {\n        type: Boolean,\n        value: true,\n      },\n\n      /**\n       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n       * @private\n       */\n      flexGrow: {\n        type: Number,\n        value: 0,\n      },\n\n      /** The arial-label for the edit button */\n      ariaLabel: String,\n    };\n  }\n\n  static get observers() {\n    return ['_onRendererOrBindingChanged(_renderer, _cells, _bodyContentHidden, _cells.*, path, ariaLabel)'];\n  }\n\n  /**\n   * Renders the crud edit element to the body cell.\n   *\n   * @override\n   */\n  _defaultRenderer(root, column) {\n    editColumnDefaultRenderer(root, column);\n  }\n}\n\ndefineCustomElement(CrudEditColumn);\n\nexport { CrudEditColumn };\n"],
  "mappings": "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",
  "names": []
}
