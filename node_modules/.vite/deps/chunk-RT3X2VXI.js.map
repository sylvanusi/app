{
  "version": 3,
  "sources": ["../../@vaadin/avatar/src/styles/vaadin-avatar-base-styles.js", "../../@vaadin/avatar/src/vaadin-avatar-mixin.js", "../../@vaadin/avatar/src/vaadin-avatar.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport '@vaadin/component-base/src/styles/style-props.js';\nimport '@vaadin/component-base/src/styles/user-colors.js';\nimport { css } from 'lit';\n\nexport const avatarStyles = css`\n  :host {\n    display: inline-block;\n    flex: none;\n    border-radius: 50%;\n    cursor: default;\n    color: var(--vaadin-avatar-text-color, var(--vaadin-text-color-secondary));\n    overflow: hidden;\n    --_size: var(--vaadin-avatar-size, calc(1lh + var(--vaadin-padding-xs) * 2));\n    height: var(--_size);\n    width: var(--_size);\n    border: var(--vaadin-focus-ring-width) solid transparent;\n    margin: calc(var(--vaadin-focus-ring-width) * -1);\n    background: var(--vaadin-avatar-background, var(--vaadin-background-container-strong));\n    background-clip: content-box;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    position: relative;\n    font-weight: var(--vaadin-avatar-font-weight, 400);\n    font-size: var(--vaadin-avatar-font-size, inherit);\n  }\n\n  /* Overlay border on top of image and icon as well */\n  :host::before {\n    position: absolute;\n    content: '';\n    inset: calc(var(--vaadin-focus-ring-width) * -1);\n    border-radius: inherit;\n    outline: var(--vaadin-avatar-border-width, 1px) solid var(--vaadin-avatar-border-color, transparent);\n    outline-offset: calc((var(--vaadin-focus-ring-width) + var(--vaadin-avatar-border-width, 1px)) * -1);\n  }\n\n  :host([role='button']) {\n    cursor: var(--vaadin-clickable-cursor);\n  }\n\n  img {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n\n  [part='icon'] {\n    height: 100%;\n    mask: var(--_vaadin-icon-user) no-repeat center / 74%;\n    background: currentColor;\n  }\n\n  [part='abbr'] {\n    font-size: 2.75em;\n    fill: currentColor;\n  }\n\n  :host([hidden]),\n  [hidden] {\n    display: none !important;\n  }\n\n  :host([has-color-index]) {\n    background-color: var(--vaadin-avatar-user-color);\n    color: oklch(\n      from var(--vaadin-avatar-user-color) clamp(0, (0.62 - l) * 1000, 1) 0 0 / clamp(0.8, (0.62 - l) * 1000, 1)\n    );\n    --vaadin-avatar-border-width: 2px;\n    --vaadin-avatar-border-color: var(--vaadin-avatar-user-color);\n  }\n\n  :host([focus-ring]) {\n    outline: var(--vaadin-focus-ring-width) solid var(--vaadin-focus-ring-color);\n    outline-offset: calc((var(--vaadin-focus-ring-width)) * -1);\n  }\n\n  @media (forced-colors: active) {\n    :host {\n      border-color: Canvas !important;\n    }\n\n    [part='icon'] {\n      background: CanvasText !important;\n    }\n  }\n`;\n", "/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { FocusMixin } from '@vaadin/a11y-base/src/focus-mixin.js';\nimport { I18nMixin } from '@vaadin/component-base/src/i18n-mixin.js';\n\nconst DEFAULT_I18N = {\n  anonymous: 'anonymous',\n};\n\n/**\n * A mixin providing common avatar functionality.\n *\n * @polymerMixin\n * @mixes FocusMixin\n */\nexport const AvatarMixin = (superClass) =>\n  class AvatarMixinClass extends I18nMixin(DEFAULT_I18N, FocusMixin(superClass)) {\n    static get properties() {\n      return {\n        /**\n         * The path to the image\n         */\n        img: {\n          type: String,\n          reflectToAttribute: true,\n          observer: '__imgChanged',\n        },\n\n        /**\n         * A shortened form of name that is displayed\n         * in the avatar when `img` is not provided.\n         */\n        abbr: {\n          type: String,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * Full name of the user\n         * used for the tooltip of the avatar.\n         */\n        name: {\n          type: String,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * Color index used for avatar background.\n         * @attr {number} color-index\n         */\n        colorIndex: {\n          type: Number,\n          observer: '__colorIndexChanged',\n        },\n\n        /**\n         * When true, the avatar has tooltip shown on hover and focus.\n         * The tooltip text is based on the `name` and `abbr` properties.\n         * When neither is provided, `i18n.anonymous` is used instead.\n         * @attr {boolean} with-tooltip\n         */\n        withTooltip: {\n          type: Boolean,\n          value: false,\n          observer: '__withTooltipChanged',\n        },\n\n        /** @protected */\n        __imgVisible: Boolean,\n\n        /** @protected */\n        __iconVisible: Boolean,\n\n        /** @protected */\n        __abbrVisible: Boolean,\n\n        /** @private */\n        __tooltipNode: Object,\n      };\n    }\n\n    static get observers() {\n      return [\n        '__imgOrAbbrOrNameChanged(img, abbr, name)',\n        '__i18nChanged(__effectiveI18n)',\n        '__tooltipChanged(__tooltipNode, name, abbr)',\n      ];\n    }\n\n    /**\n     * The object used to localize this component. To change the default\n     * localization, replace this with an object that provides all properties, or\n     * just the individual properties you want to change.\n     *\n     * The object has the following JSON structure and default values:\n     * ```js\n     * {\n     *   // Translation of the anonymous user avatar tooltip.\n     *   anonymous: 'anonymous'\n     * }\n     * ```\n     * @return {!AvatarI18n}\n     */\n    get i18n() {\n      return super.i18n;\n    }\n\n    set i18n(value) {\n      super.i18n = value;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.__updateVisibility();\n\n      // By default, if the user hasn't provided a custom role,\n      // the role attribute is set to \"img\".\n      if (!this.hasAttribute('role')) {\n        this.setAttribute('role', 'img');\n      }\n\n      // Should set `anonymous` if name / abbr is not provided\n      if (!this.name && !this.abbr) {\n        this.__setTooltip();\n      }\n    }\n\n    /** @private */\n    __colorIndexChanged(index) {\n      if (index != null) {\n        this.setAttribute('has-color-index', '');\n        this.style.setProperty('--vaadin-avatar-user-color', `var(--vaadin-user-color-${index})`);\n      } else {\n        this.removeAttribute('has-color-index');\n        this.style.removeProperty('--vaadin-avatar-user-color');\n      }\n    }\n\n    /** @private */\n    __imgChanged() {\n      this.__imgFailedToLoad = false;\n    }\n\n    /** @private */\n    __imgOrAbbrOrNameChanged(_img, abbr, name) {\n      this.__updateVisibility();\n\n      if (abbr && abbr !== this.__generatedAbbr) {\n        return;\n      }\n\n      if (name) {\n        this.abbr = this.__generatedAbbr = name\n          .split(' ')\n          .map((word) => word.charAt(0))\n          .join('');\n      } else {\n        this.abbr = undefined;\n      }\n    }\n\n    /** @private */\n    __tooltipChanged(tooltipNode, name, abbr) {\n      if (tooltipNode) {\n        if (abbr && abbr !== this.__generatedAbbr) {\n          this.__setTooltip(name ? `${name} (${abbr})` : abbr);\n        } else {\n          this.__setTooltip(name);\n        }\n      }\n\n      if (abbr) {\n        // By default, generate aria-label attribute containing the abbr value.\n        // When no tooltip is set, prefix the aria-label with the name value.\n        this.setAttribute('aria-label', !tooltipNode && name ? `${name} (${abbr})` : abbr);\n      } else {\n        this.removeAttribute('aria-label');\n      }\n    }\n\n    /** @private */\n    __withTooltipChanged(withTooltip, oldWithTooltip) {\n      this.toggleAttribute('has-tooltip', withTooltip);\n\n      if (withTooltip) {\n        // Create and attach tooltip\n        const tooltipNode = document.createElement('vaadin-tooltip');\n        tooltipNode.setAttribute('slot', 'tooltip');\n        this.appendChild(tooltipNode);\n        this.__tooltipNode = tooltipNode;\n      } else if (oldWithTooltip) {\n        // Cleanup and detach tooltip\n        this.__tooltipNode.target = null;\n        this.__tooltipNode.remove();\n        this.__tooltipNode = null;\n      }\n    }\n\n    /** @private */\n    __i18nChanged(effectiveI18n) {\n      if (effectiveI18n && effectiveI18n.anonymous) {\n        if (this.__oldAnonymous && this.__tooltipNode && this.__tooltipNode.text === this.__oldAnonymous) {\n          this.__setTooltip();\n        }\n\n        this.__oldAnonymous = effectiveI18n.anonymous;\n      }\n    }\n\n    /** @private */\n    __updateVisibility() {\n      this.__imgVisible = !!this.img && !this.__imgFailedToLoad;\n      this.__abbrVisible = !this.__imgVisible && !!this.abbr;\n      this.__iconVisible = !this.__imgVisible && !this.abbr;\n    }\n\n    /** @private */\n    __setTooltip(tooltip) {\n      const tooltipNode = this.__tooltipNode;\n      if (tooltipNode) {\n        tooltipNode.text = tooltip || this.__effectiveI18n.anonymous;\n      }\n    }\n\n    /** @protected */\n    __onImageLoadError() {\n      if (this.img) {\n        console.warn(`<vaadin-avatar> The specified image could not be loaded: ${this.img}`);\n        this.__imgFailedToLoad = true;\n        this.__updateVisibility();\n      }\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2020 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport '@vaadin/tooltip/src/vaadin-tooltip.js';\nimport { html, LitElement } from 'lit';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { PolylitMixin } from '@vaadin/component-base/src/polylit-mixin.js';\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\nimport { LumoInjectionMixin } from '@vaadin/vaadin-themable-mixin/lumo-injection-mixin.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { avatarStyles } from './styles/vaadin-avatar-base-styles.js';\nimport { AvatarMixin } from './vaadin-avatar-mixin.js';\n\n/**\n * `<vaadin-avatar>` is a Web Component providing avatar displaying functionality.\n *\n * ```html\n * <vaadin-avatar img=\"avatars/avatar-1.jpg\"></vaadin-avatar>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * --------- | ---------------\n * `abbr`    | The abbreviation element\n * `icon`    | The icon element\n *\n * The following custom CSS properties are available for styling:\n *\n * Custom CSS property            | Description\n * -------------------------------|-------------\n * `--vaadin-avatar-background`   | Background color of the avatar\n * `--vaadin-avatar-border-color` | Border color of the avatar\n * `--vaadin-avatar-border-width` | Border width of the avatar\n * `--vaadin-avatar-font-size`    | Font size of the avatar\n * `--vaadin-avatar-font-weight`  | Font weight of the avatar\n * `--vaadin-avatar-size`         | Size of the avatar\n * `--vaadin-avatar-text-color`   | Text color of the avatar\n *\n * The following state attributes are available for styling:\n *\n * Attribute         | Description\n * ------------------|-------------\n * `focus-ring`      | Set when the avatar is focused using the keyboard.\n * `focused`         | Set when the avatar is focused.\n * `has-color-index` | Set when the avatar has `colorIndex` and the corresponding custom CSS property exists.\n * `has-tooltip`     | Set when the element has a slotted tooltip.\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes AvatarMixin\n * @mixes ElementMixin\n * @mixes ThemableMixin\n */\nclass Avatar extends AvatarMixin(ElementMixin(ThemableMixin(PolylitMixin(LumoInjectionMixin(LitElement))))) {\n  static get is() {\n    return 'vaadin-avatar';\n  }\n\n  static get styles() {\n    return avatarStyles;\n  }\n\n  static get lumoInjector() {\n    return { ...super.lumoInjector, includeBaseStyles: true };\n  }\n\n  /** @protected */\n  render() {\n    return html`\n      <img\n        ?hidden=\"${!this.__imgVisible}\"\n        src=\"${ifDefined(this.img)}\"\n        aria-hidden=\"true\"\n        @error=\"${this.__onImageLoadError}\"\n        draggable=\"false\"\n      />\n      <div part=\"icon\" ?hidden=\"${!this.__iconVisible}\" aria-hidden=\"true\"></div>\n      <svg\n        part=\"abbr\"\n        ?hidden=\"${!this.__abbrVisible}\"\n        viewBox=\"-50 -50 100 100\"\n        preserveAspectRatio=\"xMidYMid meet\"\n        aria-hidden=\"true\"\n      >\n        <text dy=\".35em\" text-anchor=\"middle\">${this.abbr}</text>\n      </svg>\n\n      <slot name=\"tooltip\"></slot>\n    `;\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n\n    this._tooltipController = new TooltipController(this);\n    this.addController(this._tooltipController);\n  }\n}\n\ndefineCustomElement(Avatar);\n\nexport { Avatar };\n"],
  "mappings": "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",
  "names": []
}
