import {
  isKeyboardActive
} from "./chunk-5DESY7LS.js";
import {
  dedupeMixin
} from "./chunk-EQ5FNEVK.js";

// node_modules/@vaadin/a11y-base/src/focus-mixin.js
var FocusMixin = dedupeMixin(
  (superclass) => class FocusMixinClass extends superclass {
    /**
     * @protected
     * @return {boolean}
     */
    get _keyboardActive() {
      return isKeyboardActive();
    }
    /** @protected */
    ready() {
      this.addEventListener("focusin", (e) => {
        if (this._shouldSetFocus(e)) {
          this._setFocused(true);
        }
      });
      this.addEventListener("focusout", (e) => {
        if (this._shouldRemoveFocus(e)) {
          this._setFocused(false);
        }
      });
      super.ready();
    }
    /** @protected */
    disconnectedCallback() {
      super.disconnectedCallback();
      if (this.hasAttribute("focused")) {
        this._setFocused(false);
      }
    }
    /**
     * @param {FocusOptions=} options
     * @protected
     * @override
     */
    focus(options) {
      super.focus(options);
      if (!(options && options.focusVisible === false)) {
        this.setAttribute("focus-ring", "");
      }
    }
    /**
     * Override to change how focused and focus-ring attributes are set.
     *
     * @param {boolean} focused
     * @protected
     */
    _setFocused(focused) {
      this.toggleAttribute("focused", focused);
      this.toggleAttribute("focus-ring", focused && this._keyboardActive);
    }
    /**
     * Override to define if the field receives focus based on the event.
     *
     * @param {FocusEvent} _event
     * @return {boolean}
     * @protected
     */
    _shouldSetFocus(_event) {
      return true;
    }
    /**
     * Override to define if the field loses focus based on the event.
     *
     * @param {FocusEvent} _event
     * @return {boolean}
     * @protected
     */
    _shouldRemoveFocus(_event) {
      return true;
    }
  }
);

export {
  FocusMixin
};
//# sourceMappingURL=chunk-ERLMGG3V.js.map
