{
  "version": 3,
  "sources": ["../../@vaadin/button/src/vaadin-button-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { ActiveMixin } from '@vaadin/a11y-base/src/active-mixin.js';\nimport { FocusMixin } from '@vaadin/a11y-base/src/focus-mixin.js';\nimport { TabindexMixin } from '@vaadin/a11y-base/src/tabindex-mixin.js';\n\nconst INTERACTION_EVENTS = ['mousedown', 'mouseup', 'click', 'dblclick', 'keypress', 'keydown', 'keyup'];\n\n/**\n * A mixin providing common button functionality.\n *\n * @polymerMixin\n * @mixes ActiveMixin\n * @mixes FocusMixin\n * @mixes TabindexMixin\n */\nexport const ButtonMixin = (superClass) =>\n  class ButtonMixinClass extends ActiveMixin(TabindexMixin(FocusMixin(superClass))) {\n    constructor() {\n      super();\n\n      this.__onInteractionEvent = this.__onInteractionEvent.bind(this);\n\n      INTERACTION_EVENTS.forEach((eventType) => {\n        this.addEventListener(eventType, this.__onInteractionEvent, true);\n      });\n\n      // Set tabindex to 0 by default\n      this.tabindex = 0;\n    }\n\n    /**\n     * By default, `Space` is the only possible activation key for a focusable HTML element.\n     * Nonetheless, the button is an exception as it can be also activated by pressing `Enter`.\n     * See the \"Keyboard Support\" section in https://www.w3.org/TR/wai-aria-practices/examples/button/button.html.\n     *\n     * @protected\n     * @override\n     */\n    get _activeKeys() {\n      return ['Enter', ' '];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      // By default, if the user hasn't provided a custom role,\n      // the role attribute is set to \"button\".\n      if (!this.hasAttribute('role')) {\n        this.setAttribute('role', 'button');\n      }\n\n      if (this.__shouldAllowFocusWhenDisabled()) {\n        this.style.setProperty('--_vaadin-button-disabled-pointer-events', 'auto');\n      }\n    }\n\n    /**\n     * Since the button component is designed on the base of the `[role=button]` attribute,\n     * and doesn't have a native <button> inside, in order to be fully accessible from the keyboard,\n     * it should manually fire the `click` event once an activation key is pressed,\n     * as it follows from the WAI-ARIA specifications:\n     * https://www.w3.org/TR/wai-aria-practices-1.1/#button\n     *\n     * According to the UI Events specifications,\n     * the `click` event should be fired exactly on `keydown`:\n     * https://www.w3.org/TR/uievents/#event-type-keydown\n     *\n     * @param {KeyboardEvent} event\n     * @protected\n     * @override\n     */\n    _onKeyDown(event) {\n      super._onKeyDown(event);\n\n      if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n        return;\n      }\n\n      if (this._activeKeys.includes(event.key)) {\n        event.preventDefault();\n\n        // `DisabledMixin` overrides the standard `click()` method\n        // so that it doesn't fire the `click` event when the element is disabled.\n        this.click();\n      }\n    }\n\n    /** @private */\n    __onInteractionEvent(event) {\n      if (this.__shouldSuppressInteractionEvent(event)) {\n        event.stopImmediatePropagation();\n      }\n    }\n\n    /**\n     * Returns whether to suppress interaction events like `click`, `keydown`, etc.\n     * By default suppresses all interaction events when the button is disabled.\n     *\n     * @private\n     */\n    __shouldSuppressInteractionEvent(_event) {\n      return this.disabled;\n    }\n  };\n"],
  "mappings": ";;;;;;;;;;;AASA,IAAM,qBAAqB,CAAC,aAAa,WAAW,SAAS,YAAY,YAAY,WAAW,OAAO;AAUhG,IAAM,cAAc,CAAC,eAC1B,MAAM,yBAAyB,YAAY,cAAc,WAAW,UAAU,CAAC,CAAC,EAAE;AAAA,EAChF,cAAc;AACZ,UAAM;AAEN,SAAK,uBAAuB,KAAK,qBAAqB,KAAK,IAAI;AAE/D,uBAAmB,QAAQ,CAAC,cAAc;AACxC,WAAK,iBAAiB,WAAW,KAAK,sBAAsB,IAAI;AAAA,IAClE,CAAC;AAGD,SAAK,WAAW;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,IAAI,cAAc;AAChB,WAAO,CAAC,SAAS,GAAG;AAAA,EACtB;AAAA;AAAA,EAGA,QAAQ;AACN,UAAM,MAAM;AAIZ,QAAI,CAAC,KAAK,aAAa,MAAM,GAAG;AAC9B,WAAK,aAAa,QAAQ,QAAQ;AAAA,IACpC;AAEA,QAAI,KAAK,+BAA+B,GAAG;AACzC,WAAK,MAAM,YAAY,4CAA4C,MAAM;AAAA,IAC3E;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBA,WAAW,OAAO;AAChB,UAAM,WAAW,KAAK;AAEtB,QAAI,MAAM,UAAU,MAAM,YAAY,MAAM,WAAW,MAAM,SAAS;AACpE;AAAA,IACF;AAEA,QAAI,KAAK,YAAY,SAAS,MAAM,GAAG,GAAG;AACxC,YAAM,eAAe;AAIrB,WAAK,MAAM;AAAA,IACb;AAAA,EACF;AAAA;AAAA,EAGA,qBAAqB,OAAO;AAC1B,QAAI,KAAK,iCAAiC,KAAK,GAAG;AAChD,YAAM,yBAAyB;AAAA,IACjC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,iCAAiC,QAAQ;AACvC,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": []
}
