import {
  DashboardItemMixin,
  DashboardSection,
  SYNCHRONIZED_ATTRIBUTES,
  WRAPPER_LOCAL_NAME,
  dashboardWidgetAndSectionStyles,
  findAncestorInstance,
  getDefaultI18n
} from "./chunk-P6BRS3N6.js";
import {
  ElementMixin
} from "./chunk-V6ISAKNA.js";
import {
  LumoInjectionMixin
} from "./chunk-ML4P6KOO.js";
import {
  ThemableMixin
} from "./chunk-MKNWHZM7.js";
import {
  PolylitMixin
} from "./chunk-EQ5FNEVK.js";
import {
  defineCustomElement
} from "./chunk-D2WC5P34.js";
import {
  LitElement
} from "./chunk-4MR6LGSU.js";
import {
  html
} from "./chunk-ZCNTBWU5.js";
import {
  css
} from "./chunk-5IHOHWXL.js";

// node_modules/@vaadin/dashboard/src/styles/vaadin-dashboard-widget-base-styles.js
var widgetStyles = css`
  :host {
    display: flex;
    flex-direction: column;
    grid-column: var(--_item-column);
    grid-row: var(--_item-row);
    position: relative;
    background: var(--_widget-background);
    border-radius: var(--_widget-border-radius);
    box-shadow: var(--_widget-shadow);
    border-color: var(--_widget-border-color);
  }

  :host::before {
    content: '';
    position: absolute;
    inset: 0;
    border-color: inherit;
    border-width: var(--_widget-border-width);
    border-style: solid;
    border-radius: inherit;
    pointer-events: none;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host(:not([editable])) [part~='resize-button'] {
    display: none;
  }

  [part~='content'] {
    flex: 1;
    overflow: hidden;
    min-height: 1em;
  }

  [part~='resize-button'] {
    position: absolute;
    bottom: 0;
    inset-inline-end: 0;
    z-index: 1;
    overflow: hidden;
    touch-action: none;
    cursor: nwse-resize;
    --icon: var(--_vaadin-icon-resize);
  }

  :host([dir='rtl']) [part~='resize-button'] {
    cursor: sw-resize;
  }

  :host([dir='rtl']) [part~='resize-button'] .icon::before {
    transform: scaleX(-1);
  }

  /* Widget states */

  :host([editable]) {
    --vaadin-dashboard-widget-shadow: var(--_widget-editable-shadow);
  }

  :host([selected]) {
    --vaadin-dashboard-widget-shadow: var(--_widget-selected-shadow);
  }

  :host([resizing])::after {
    content: '';
    z-index: 2;
    position: absolute;
    top: 0;
    width: var(--_widget-resizer-width, 0);
    height: var(--_widget-resizer-height, 0);
    background: color-mix(in srgb, currentColor 5%, var(--_widget-background) 70%);
    border-color: color-mix(in srgb, currentColor 10%, transparent);
    border-width: var(--_widget-border-width);
    border-style: solid;
    border-radius: inherit;
  }

  /* Widget parts */
  header {
    padding: var(
      --vaadin-dashboard-widget-header-padding,
      var(--vaadin-padding-block-container) var(--vaadin-padding-inline-container)
    );
  }

  :host([editable]) header {
    padding: var(--vaadin-dashboard-widget-header-padding, var(--vaadin-padding-s));
  }

  header:has([part~='title'][hidden]) {
    padding: 0;
  }
`;
var dashboardWidgetStyles = [widgetStyles, dashboardWidgetAndSectionStyles];

// node_modules/@vaadin/dashboard/src/vaadin-dashboard-widget.js
var DashboardWidget = class extends DashboardItemMixin(
  ElementMixin(ThemableMixin(PolylitMixin(LumoInjectionMixin(LitElement))))
) {
  static get is() {
    return "vaadin-dashboard-widget";
  }
  static get styles() {
    return dashboardWidgetStyles;
  }
  static get lumoInjector() {
    return { ...super.lumoInjector, includeBaseStyles: true };
  }
  static get properties() {
    return {
      /**
       * The object used to localize this component.
       *
       * To change the default localization, replace the entire
       * `i18n` object with a custom one.
       *
       * The object has the following structure and default values:
       * ```js
       * {
       *   selectWidget: 'Select widget for editing',
       *   remove: 'Remove',
       *   resize: 'Resize',
       *   resizeApply: 'Apply',
       *   resizeShrinkWidth: 'Shrink width',
       *   resizeGrowWidth: 'Grow width',
       *   resizeShrinkHeight: 'Shrink height',
       *   resizeGrowHeight: 'Grow height',
       *   move: 'Move',
       *   moveApply: 'Apply',
       *   moveForward: 'Move Forward',
       *   moveBackward: 'Move Backward',
       * }
       * ```
       * @private
       */
      __i18n: {
        type: Object,
        value: () => {
          return getDefaultI18n();
        }
      },
      /**
       * The title of the widget.
       *
       * @attr {string} widget-title
       * @type {string | null | undefined}
       */
      widgetTitle: {
        type: String,
        value: ""
      },
      /* @private */
      __isNestedWidget: {
        type: Boolean,
        value: false
      }
    };
  }
  /** @protected */
  render() {
    return html`
      ${this.__renderMoveControls()} ${this.__renderResizeControls()}

      <div id="focustrap">
        ${this.__renderFocusButton("selectWidget")}

        <header part="header">
          ${this.__renderDragHandle()} ${this.__renderWidgetTitle()}
          <slot name="header-content"></slot>
          ${this.__renderRemoveButton()}
        </header>

        ${this.__renderResizeHandle()}
      </div>

      <div id="content" part="content">
        <slot></slot>
      </div>
    `;
  }
  /** @protected */
  connectedCallback() {
    super.connectedCallback();
    const wrapper = this.closest(WRAPPER_LOCAL_NAME);
    if (wrapper) {
      SYNCHRONIZED_ATTRIBUTES.forEach((attr) => {
        this.toggleAttribute(attr, !!wrapper[attr]);
      });
      this.__i18n = wrapper.i18n;
    }
    this.__updateNestedState();
    const undefinedAncestor = this.closest("*:not(:defined)");
    if (undefinedAncestor) {
      customElements.whenDefined(undefinedAncestor.localName).then(() => {
        queueMicrotask(() => this.__updateNestedState());
      });
    }
  }
  /** @protected */
  ready() {
    super.ready();
    if (!this.hasAttribute("role")) {
      this.setAttribute("role", "article");
    }
  }
  /** @private */
  __renderWidgetTitle() {
    let effectiveHeadingLevel = this._rootHeadingLevel;
    if (effectiveHeadingLevel == null) {
      effectiveHeadingLevel = 2;
    }
    if (this.__isNestedWidget) {
      effectiveHeadingLevel += 1;
    }
    return html`<div
      id="title"
      part="title"
      role="heading"
      aria-level=${effectiveHeadingLevel}
      .hidden=${!this.widgetTitle}
      >${this.widgetTitle}</div
    >`;
  }
  /** @private */
  __updateNestedState() {
    this.__isNestedWidget = !!findAncestorInstance(this, DashboardSection);
  }
};
defineCustomElement(DashboardWidget);

export {
  DashboardWidget
};
//# sourceMappingURL=chunk-I3CFTXMI.js.map
