import{useSignal}from"@preact/signals-react";import{useSignals as t}from"@preact/signals-react/runtime";import{createElement as n,useMemo as r,Fragment as e}from"react";const c=n=>{t();return"function"==typeof n.children?n.children(n.v,n.i):n.children};function i(r){t();const e="function"==typeof r.when?r.when():r.when.value;if(!e)return r.fallback||null;else return n(c,{v:e,children:r.children})}function o(i){t();const o=r(()=>new Map,[]);let u=("function"==typeof i.each?i.each():i.each).value;if(!u.length)return i.fallback||null;const f=new Set(o.keys()),s=u.map((t,r)=>{f.delete(t);if(!o.has(t)){const e=n(c,{v:t,key:r,i:r,children:i.children});o.set(t,e);return e}return o.get(t)});f.forEach(t=>{o.delete(t)});return n(e,{children:s})}function u(t){const n=useSignal(t);if(n.peek()!==t)n.value=t;return n}function f(t){const n=useSignal(t);if(!("current"in n))Object.defineProperty(n,"current",s);return n}const s={configurable:!0,get(){return this.value},set(t){this.value=t}};export{o as For,i as Show,u as useLiveSignal,f as useSignalRef};//# sourceMappingURL=utils.mjs.map
