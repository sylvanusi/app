var r=require("@preact/signals-react"),n=require("@preact/signals-react/runtime"),e=require("react"),t=function(r){n.useSignals();return"function"==typeof r.children?r.children(r.v,r.i):r.children},u={configurable:!0,get:function(){return this.value},set:function(r){this.value=r}};exports.For=function(r){n.useSignals();var u=e.useMemo(function(){return new Map},[]),i=("function"==typeof r.each?r.each():r.each).value;if(!i.length)return r.fallback||null;var c=new Set(u.keys()),f=i.map(function(n,i){c.delete(n);if(!u.has(n)){var f=e.createElement(t,{v:n,key:i,i:i,children:r.children});u.set(n,f);return f}return u.get(n)});c.forEach(function(r){u.delete(r)});return e.createElement(e.Fragment,{children:f})};exports.Show=function(r){n.useSignals();var u="function"==typeof r.when?r.when():r.when.value;if(!u)return r.fallback||null;else return e.createElement(t,{v:u,children:r.children})};exports.useLiveSignal=function(n){var e=r.useSignal(n);if(e.peek()!==n)e.value=n;return e};exports.useSignalRef=function(n){var e=r.useSignal(n);if(!("current"in e))Object.defineProperty(e,"current",u);return e};//# sourceMappingURL=utils.js.map
